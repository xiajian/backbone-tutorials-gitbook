<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>What is a view? | 介绍</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../beginner/what-is-a-router.html" />
    
    
    <link rel="prev" href="../beginner/what-is-a-model.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="1.3"
        data-chapter-title="What is a view?"
        data-filepath="beginner/what-is-a-view.md"
        data-basepath=".."
        data-revision="Sat Apr 23 2016 21:50:51 GMT+0800 (CST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" >
            
            <span><b>1.</b> Beginners</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="beginner/why-would-you-use-backbone.html">
            
                
                    <a href="../beginner/why-would-you-use-backbone.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Why would you use Backbone.js?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="beginner/what-is-a-model.html">
            
                
                    <a href="../beginner/what-is-a-model.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        What is a model?
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="1.3" data-path="beginner/what-is-a-view.html">
            
                
                    <a href="../beginner/what-is-a-view.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        What is a view?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="beginner/what-is-a-router.html">
            
                
                    <a href="../beginner/what-is-a-router.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        What is a router?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="beginner/what-is-a-collection.html">
            
                
                    <a href="../beginner/what-is-a-collection.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                        What is a collection?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" >
            
            <span><b>2.</b> Intermediate</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="intermediate/real-time-backbone-with-pubnub.html">
            
                
                    <a href="../intermediate/real-time-backbone-with-pubnub.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Real-Time Backbone With PubNub
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="intermediate/seo-for-single-page-apps.html">
            
                
                    <a href="../intermediate/seo-for-single-page-apps.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        SEO for single page applications
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="intermediate/organizing-backbone-using-modules.html">
            
                
                    <a href="../intermediate/organizing-backbone-using-modules.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Organizing your application using Modules (require.js)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="intermediate/cross-domain-sessions.html">
            
                
                    <a href="../intermediate/cross-domain-sessions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Cross-domain Backbone.js with sessions using CORS Lightweight
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="intermediate/infinite-scrolling.html">
            
                
                    <a href="../intermediate/infinite-scrolling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Infinite Scrolling using Twitter API
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="intermediate/nodejs-restify-mongodb-mongoose.html">
            
                
                    <a href="../intermediate/nodejs-restify-mongodb-mongoose.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Simple example - Node.js, Restify, MongoDb and Mongoose
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >介绍</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="what-is-a-view">What is a view?</h1>
<p>Backbone views are used to reflect what your applications&apos; data models look like. They are also used to listen to events and react accordingly. This tutorial will not be addressing how to bind models and collections to views but will focus on view functionality and how to use views with a JavaScript templating library, specifically <a href="http://underscorejs.org/#template" target="_blank">Underscore.js&apos;s _.template</a>.</p>
<p>We will be using <a href="http://jquery.com/" target="_blank">jQuery 1.8.2</a> as our DOM manipulator. It&apos;s possible to use other libraries such as <a href="http://mootools.net/" target="_blank">MooTools</a> or <a href="http://sizzlejs.com/" target="_blank">Sizzle</a>, but official Backbone.js documentation endorses jQuery. Backbone.View events may not work with libraries other than jQuery.</p>
<p>For the purposes of this demonstration, we will be implementing a search box. <a href="http://jsfiddle.net/tBS4X/1/" target="_blank">A live example</a> can be found on jsFiddle.</p>
<pre><code>    SearchView = Backbone.View.extend({
        initialize: function(){
            alert(&quot;Alerts suck.&quot;);
        }
    });

    // The initialize function is always called when instantiating a Backbone View.
    // Consider it the constructor of the class.
    var search_view = new SearchView();
</code></pre><h2 id="the-el-property">The &quot;el&quot; property</h2>
<p>The &quot;el&quot; property references the DOM object created in the browser. Every Backbone.js view has an &quot;el&quot; property, and if it is not defined, Backbone.js will construct its own, which is an empty div element.</p>
<p>Let us set our view&apos;s &quot;el&quot; property to div#search_container, effectively making Backbone.View the owner of the DOM element.</p>
<pre><code>&lt;div id=&quot;search_container&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
    SearchView = Backbone.View.extend({
        initialize: function(){
            alert(&quot;Alerts suck.&quot;);
        }
    });

    var search_view = new SearchView({ el: $(&quot;#search_container&quot;) });
&lt;/script&gt;
</code></pre><p><em>Note: Keep in mind that this binds the container element. Any events we trigger must be in this element.</em></p>
<h2 id="loading-a-template">Loading a template</h2>
<p>Backbone.js is dependent on Underscore.js, which includes its own micro-templating solution. Refer to <a href="http://underscorejs.org/" target="_blank">Underscore.js&apos;s documentation</a> for more information.</p>
<p>Let us implement a &quot;render()&quot; function and call it when the view is initialized. The &quot;render()&quot; function will load our template into the view&apos;s &quot;el&quot; property using jQuery.</p>
<pre><code>
&lt;script type=&quot;text/template&quot; id=&quot;search_template&quot;&gt;
  &lt;label&gt;Search&lt;/label&gt;
  &lt;input type=&quot;text&quot; id=&quot;search_input&quot; /&gt;
  &lt;input type=&quot;button&quot; id=&quot;search_button&quot; value=&quot;Search&quot; /&gt;
&lt;/script&gt;

&lt;div id=&quot;search_container&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
    SearchView = Backbone.View.extend({
        initialize: function(){
            this.render();
        },
        render: function(){
            // Compile the template using underscore
            var template = _.template( $(&quot;#search_template&quot;).html(), {} );
            // Load the compiled HTML into the Backbone &quot;el&quot;
            this.$el.html( template );
        }
    });

    var search_view = new SearchView({ el: $(&quot;#search_container&quot;) });
&lt;/script&gt;
</code></pre><p><em>Tip: Place all your templates in a file and serve them from a CDN. This ensures your users will always have your application cached.</em></p>
<h2 id="listening-for-events">Listening for events</h2>
<p>To attach a listener to our view, we use the &quot;events&quot; attribute of Backbone.View. Remember that event listeners can only be attached to child elements of the &quot;el&quot; property. Let us attach a &quot;click&quot; listener to our button.</p>
<pre><code>
&lt;script type=&quot;text/template&quot; id=&quot;search_template&quot;&gt;
  &lt;label&gt;Search&lt;/label&gt;
  &lt;input type=&quot;text&quot; id=&quot;search_input&quot; /&gt;
  &lt;input type=&quot;button&quot; id=&quot;search_button&quot; value=&quot;Search&quot; /&gt;
&lt;/script&gt;

&lt;div id=&quot;search_container&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
    SearchView = Backbone.View.extend({
        initialize: function(){
            this.render();
        },
        render: function(){
            var template = _.template( $(&quot;#search_template&quot;).html(), {} );
            this.$el.html( template );
        },
        events: {
            &quot;click input[type=button]&quot;: &quot;doSearch&quot;
        },
        doSearch: function( event ){
            // Button clicked, you can access the element that was clicked with event.currentTarget
            alert( &quot;Search for &quot; + $(&quot;#search_input&quot;).val() );
        }
    });

    var search_view = new SearchView({ el: $(&quot;#search_container&quot;) });
&lt;/script&gt;
</code></pre><h2 id="tips-and-tricks">Tips and Tricks</h2>
<p><em>Using template variables</em></p>
<pre><code>&lt;script type=&quot;text/template&quot; id=&quot;search_template&quot;&gt;
    &lt;!-- Access template variables with &lt;%= %&gt; --&gt;
    &lt;label&gt;&lt;%= search_label %&gt;&lt;/label&gt;
    &lt;input type=&quot;text&quot; id=&quot;search_input&quot; /&gt;
    &lt;input type=&quot;button&quot; id=&quot;search_button&quot; value=&quot;Search&quot; /&gt;
&lt;/script&gt;

&lt;div id=&quot;search_container&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
     SearchView = Backbone.View.extend({
        initialize: function(){
            this.render();
        },
        render: function(){
            //Pass variables in using Underscore.js Template
            var variables = { search_label: &quot;My Search&quot; };
            // Compile the template using underscore
            var template = _.template( $(&quot;#search_template&quot;).html(), variables );
            // Load the compiled HTML into the Backbone &quot;el&quot;
            this.$el.html( template );
        },
        events: {
            &quot;click input[type=button]&quot;: &quot;doSearch&quot;  
        },
        doSearch: function( event ){
            // Button clicked, you can access the element that was clicked with event.currentTarget
            alert( &quot;Search for &quot; + $(&quot;#search_input&quot;).val() );
        }
    });

    var search_view = new SearchView({ el: $(&quot;#search_container&quot;) });
&lt;/script&gt;
</code></pre><h3 id="relevant-links">Relevant Links</h3>
<ul>
<li><a href="http://thomasdavis.github.com/2011/02/05/backbone-views-and-templates.html" target="_blank">This example implemented with google API</a></li>
<li><a href="http://jsfiddle.net/thomas/C9wew/4/" target="_blank">This examples exact code on jsfiddle.net</a></li>
<li><a href="http://jsfiddle.net/thomas/dKK9Y/6/" target="_blank">Another semi-complete example on jsFiddle</a></li>
</ul>
<h3 id="contributors">Contributors</h3>
<ul>
<li><a href="https://github.com/zaeleus" target="_blank">Michael Macias</a></li>
<li><a href="https://github.com/lawnday" target="_blank">Alex Lande</a></li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../beginner/what-is-a-model.html" class="navigation navigation-prev " aria-label="Previous page: What is a model?"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../beginner/what-is-a-router.html" class="navigation navigation-next " aria-label="Next page: What is a router?"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
